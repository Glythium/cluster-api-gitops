---
apiVersion: v1
kind: Secret
metadata:
  labels:
    app.kubernetes.io/name: dex
    helm.sh/chart: dex-2.10.0
    app.kubernetes.io/instance: dex
    app.kubernetes.io/version: 2.23.0
    app.kubernetes.io/managed-by: Helm
  name: dex
  namespace: sso
stringData:
  config.yaml: |
    issuer: https://login.sso.tanzu.world
    frontend:
      theme: tkg
    web:
      http: 0.0.0.0:5556
    expiry:
      signingKeys: "10m"
      idTokens: "5m"
    logger:
      level: "debug"
      format: "json"
    oauth2:
      skipApprovalScreen: true
    storage:
      type: kubernetes
      config:
        inCluster: true
    connectors:
    - type: github
      id: github
      name: GitHub
      config:
        clientID: CHANGEME
        clientSecret: CHANGEME
        redirectURI: https://login.sso.tanzu.world/callback
        orgs: 
        - name: vmware
        - name: vmware-teams
          teams:
          - federal